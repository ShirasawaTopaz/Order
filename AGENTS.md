# AGENTS.md

本文件用于约束 `D:\order` 仓库内的代码生成与修改规范。

## 1. 适用范围
- 本规范默认适用于当前目录及其所有子目录。
- 如子目录存在更细粒度的 `AGENTS.md`，则以更近层级的文件为准。

## 2. 语言与注释规范（重点）
- 所有新增或修改的代码，必须配备完善且必要的注释。
- 注释语言统一使用中文简体。
- 注释内容要求：
  - 说明“为什么这样做”，而不仅是“做了什么”。
  - 对关键逻辑、边界条件、异常处理、性能取舍进行说明。
  - 对公共函数或方法补充用途、参数、返回值和副作用说明。
- 禁止无意义注释（如“给变量赋值”这类重复代码表意的注释）。
- 中文注释必须可读、不可乱码，避免使用异常编码或不可见字符。

## 3. 文件编码与换行规范（重点）
- 所有新增或修改的源码文件，统一使用 UTF-8 编码（无 BOM 优先）。
- 所有新增或修改的文本文件，统一使用 LF 作为换行符。
- 严禁提交 GBK、ANSI、UTF-16 等可能导致中文乱码的编码格式。

## 4. 代码风格与实现原则
- 优先修复根因，避免仅做表层补丁。
- 变更应保持最小化，不修改与当前任务无关的逻辑。
- 命名需语义清晰，避免使用无意义缩写。
- 保持与现有项目代码风格一致。

## 5. 测试与验证
- 修改后应优先执行与改动最相关的最小测试范围，再逐步扩大验证。
- 若项目已有测试体系，新增逻辑应补充对应测试（在合理范围内）。
- 若发现非本次任务范围的问题，可在交付说明中提示，但不强制顺带修复。

## 6. 提交与文档更新
- 涉及行为变化时，应同步更新必要文档（如 README、模块说明）。
- 提交说明需清晰描述变更点、影响范围和验证方式。

## 7. 禁止项
- 禁止引入与任务无关的大规模重构。
- 禁止在未确认影响的情况下随意删除代码。
- 禁止输出或写入可能导致乱码的中文内容。

---

执行本规范时，如与系统或用户的更高优先级指令冲突，以更高优先级指令为准。
